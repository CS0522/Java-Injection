<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">











<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Struts Scripting - Source Code Guide</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
        <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
      </head>
  <body class="composite">
    <div id="banner">
                  <a href="http://www.apache.org/" id="bannerLeft">
    
                                    <img src="http://www.apache.org/images/asf-logo.gif" alt="" />
    
            </a>
                        <a href="" id="bannerRight">
    
                                            <img src="images/struts.gif" alt="" />
    
            </a>
            <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
          
  

  
    
  
  
    
            <div class="xleft">
        Last Published: 2008-11-29
                      </div>
            <div class="xright">            <a href="http://www.apache.org/" class="externalLink">Apache</a>
            |
                <a href="2.x/">Struts 2</a>
            |
                <a href="1.x/">Struts 1</a>
            |
                <a href="1.x/">Struts 1</a>
            |
                <a href="2.x/">Struts 2</a>
            
  

  
    
  
  
    
  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
           
  

  
    
  
  
    
                   <h5>Struts Scripting</h5>
            <ul>
              
    <li class="none">
                    <a href="index.html">Welcome</a>
          </li>
              
    <li class="none">
                    <a href="user-guide.html">User Guide</a>
          </li>
              
    <li class="none">
              <strong>Source Guide</strong>
        </li>
          </ul>
              <h5>Components</h5>
            <ul>
              
    <li class="none">
                    <a href="../struts-apps/index.html">Struts Apps</a>
          </li>
              
    <li class="none">
                    <a href="../struts-el/index.html">Struts EL</a>
          </li>
              
    <li class="none">
                    <a href="../struts-extras/index.html">Struts Extras</a>
          </li>
              
    <li class="none">
                    <a href="../struts-faces/index.html">Struts Faces</a>
          </li>
              
    <li class="none">
                    <a href="../struts-scripting/index.html">Struts Scripting</a>
          </li>
              
    <li class="none">
                    <a href="../struts-taglib/index.html">Struts Taglib</a>
          </li>
              
    <li class="none">
                    <a href="../struts-tiles/index.html">Struts Tiles</a>
          </li>
          </ul>
              <h5>Quick Links</h5>
            <ul>
              
    <li class="none">
                    <a href="apidocs/index.html">Javadoc</a>
          </li>
              
    <li class="none">
                    <a href="../index.html">Struts 1</a>
          </li>
          </ul>
              <h5>Project Documentation</h5>
            <ul>
              
                
              
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
              
        <li class="collapsed">
                    <a href="project-info.html">Project Information</a>
                </li>
              
                
              
      
            
      
            
      
            
      
            
      
            
      
              
        <li class="collapsed">
                    <a href="project-reports.html">Project Reports</a>
                </li>
          </ul>
                                           <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
            <img alt="Built by Maven" src="./images/logos/maven-feather.png"></img>
          </a>
                       
  

  
    
  
  
    
        </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section"><h2><a name="Source_Code_Guide"></a>Source Code Guide</h2>
<a name="overview"></a><p>The Struts Scripting component, for the most part, follows Apache Struts build and
      source code layout, so if you are familiar with another Struts component, you'll be
      at home here.  If not, this guide first walks you though what is where and why.
      Next, it gives help on how to build common artifacts.
      </p>
<p>Again, since the heavy lifting is done by the 
      <a href="http://jakarta.apache.org/bsf" class="externalLink">Bean Scripting Framework </a> 
      and the scripting engines themselves, there isn't much code to this project itself.
      </p>
<ul><li><a href="#layout">Source code layout</a></li>
<li><a href="#build">Build instructions</a></li>
</ul>
<div class="section"><h3><a name="Source_code_layout"></a>Source code layout</h3>
<a name="layout"></a><p>When you unzip the latest release of Struts or check it out from Subversion
         (more help on Subversion at the Struts <a href="http://struts.apache.org/downloads.html#Source_Code" class="externalLink">source code</a>), you'll be confronted with a directory structure that includes:
         </p>
<ul><li><code>/apps/scripting-mailreader</code> - A modified version of the classic Struts Mailreader example application.  
         This rendition replaces Java-coded Struts Actions with <a href="http://groovy.codehaus.org" class="externalLink">Groovy</a> scripts.</li>
<li><code>/scripting/src</code> - All other scripting source code can be found here</li>
<li><code>/scripting/src/main/java</code> - The source code for the Struts Scripting framework itself</li>
</ul>
<ul><li><code>/scripting/src/site/xdocs</code> - The XML source code for all documentation, including this guide.</li>
<li><code>/scripting/target</code> - Maven puts all compiled files into this temporary directory.</li>
</ul>
<p>Next, we'll look at how to build both Struts Scripting library and the Mailreader example application.</p>
</div>
<div class="section"><h3><a name="Build_Instructions"></a>Build Instructions</h3>
<a name="build"></a><p>Struts Scripting uses <a href="http://maven.apache.org" class="externalLink">Apache Maven 2</a> to build its JAR, example application, documentation, and distribution files.  Maven is used throughout Struts for building subprojects, providing a consistent build environment to Struts users.  To follow these build instructions, you will need to have <a href="http://maven.apache.org" class="externalLink">Apache Maven 2</a> installed and its <code>mvn</code> executable available in your command path.
         </p>
<p>
         Since there are a bunch of build targets, we will break the build down into tasks that you might want to accomplish and show the best way to complete them.
         </p>
<ul><li><strong>Build the Struts Scripting JAR</strong> - Run '<code>mvn jar:jar</code>' which will create the JAR as <code>/scripting/target/struts-scripting-VERSION.jar</code>.</li>
<li><strong>Build the Mailreader example</strong> - Change to <code>/apps/scripting-mailreader</code> and run '<code>mvn install</code>' to create <code>/apps/scripting-mailreadertarget/scripting-mailreader.war</code>.</li>
<li><strong>Build the documentation</strong> - Run '<code>mvn site</code>' to create the Struts Scripting website at <code>/scripting/target/docs</code>.</li>
</ul>
</div>
</div>

      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">&#169;  
          2000-2008
    
          Apache Software Foundation
          
  

  
    
  
  
    
  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
